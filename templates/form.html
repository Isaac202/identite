<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <title>Formulário com Seções e Barra de Progresso</title>
    <link href="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css" rel="stylesheet">
    <style>
        .hidden {
            display: none;
        }
    </style>
</head>
<body>
<div class="container">
    <h2 class="mt-5">Formulário com Seções e Barra de Progresso</h2>

    <!-- Barra de Progresso -->
    <div class="progress mb-4">
        <div id="progressBar" class="progress-bar" role="progressbar" style="width: 25%;" aria-valuenow="25" aria-valuemin="0" aria-valuemax="100">25%</div>
    </div>

    <form id="dataForm" method="post" action="{% url 'form' slug=slug %}" enctype="multipart/form-data">
        {% csrf_token %}

        <!-- Seção 1: Dados do Cliente -->
        <div id="section1">
            <h3>Dados do Cliente</h3>
            <div class="form-group">
                <label for="nomeCompleto">Nome Completo</label>
                <input type="text" class="form-control" name="nomeCompleto" placeholder="Nome Completo">
            </div>
            <div class="form-group">
                <label for="CPF">CPF</label>
                <input name="cpf" type="text" class="form-control" id="cpf" placeholder="CPF">
            </div>
            
            <div class="form-group">
                <label for="email">Email</label>
                <input name="email" type="email" class="form-control" id="email" placeholder="Email">
            </div>
            <div class="form-group">
                <label for="telefone">Telefone</label>
                <input name="telefone" type="telefone" class="form-control" id="telefone" placeholder="Telefone">
            </div>
            <div class="form-group">
                <label for="data_nacimento">Data Nascimento</label>
                <input name="data_nacimento" type="data_nacimento" class="form-control" id="data_nacimento" placeholder="Data Nascimento">
            </div>
            <button type="button" class="btn btn-primary" onclick="nextSection(2)">Próximo</button>
        </div>

        <!-- Seção 2: Dados da Empresa -->
        <div id="section2" class="hidden">
            <h3>Dados da Empresa</h3>
            <div class="form-group">
                <label for="CNPJ">CNPJ</label>
                <input name="cnpj" type="text" class="form-control" id="CNPJ" placeholder="CNPJ">
            </div>
            <div class="form-group">
                <label for="nomeRazaoSocial">Nome/Razão Social</label>
                <input type="text" class="form-control" name="nomeRazaoSocial" placeholder="Nome/Razão Social">
            </div>
            <div class="form-group">
                <label for="nomeFantasia">Nome/Fantasia</label>
                <input type="text" class="form-control" name="nomeFantasia" placeholder="Nome/Fantasia">
            </div>
            
            <button type="button" class="btn btn-secondary" onclick="prevSection(1)">Anterior</button>
            <button type="button" class="btn btn-primary" onclick="nextSection(3)">Próximo</button>
        </div>

        <!-- Seção 3: Dados de Endereço -->
        <div id="section3" class="hidden">
            <h3>Dados de Endereço</h3>
            <div class="form-group">
                <label for="cep">CEP</label>
                <input type="text" class="form-control" name="cep" placeholder="CEP">
            </div>
            <div class="form-group">
                <label for="logradouro">Logradouro</label>
                <input type="text" class="form-control" name="logradouro" placeholder="Logradouro">
            </div>
            <div class="form-group">
                <label for="numero">Número</label>
                <input type="text" class="form-control" name="numero" placeholder="Número">
            </div>
            <div class="form-group">
                <label for="complemento">Complemento</label>
                <input type="text" class="form-control" name="complemento" placeholder="Complemento">
            </div>
            <div class="form-group">
                <label for="bairro">Bairro</label>
                <input type="text" class="form-control" name="bairro" placeholder="Bairro">
            </div>
            <div class="form-group">
                <label for="cidade">Cidade</label>
                <input type="text" class="form-control" name="cidade" placeholder="Cidade">
            </div>
            <div class="form-group">
                <label for="uf">UF</label>
                <input type="text" class="form-control" name="uf" placeholder="UF">
            </div>
            <div class="form-group">
                <label for="codigoIBGE">Código IBGE</label>
                <input type="text" class="form-control" name="codigoIBGE" placeholder="Código IBGE">
            </div>
            <button type="button" class="btn btn-secondary" onclick="prevSection(2)">Anterior</button>
            <button type="button" class="btn btn-primary" onclick="nextSection(4)">Próximo</button>
        </div>

        <!-- Seção 4: Documentos -->
        <div id="section4" class="hidden">
            <h3>Documentos</h3>
            <div class="form-group">
                <label for="rg-frente">RG Frente</label>
                <input type="file" class="form-control" name="rg-frente" placeholder="RG Frente">
            </div>
            <div class="form-group">
                <label for="rg-verso">RG Verso</label>
                <input type="file" class="form-control" name="rg-verso" placeholder="RG Verso">
            </div>
            <div class="form-group">
                <label for="cnh">Carteira de Habilitação</label>
                <input type="file" class="form-control" name="cnh" placeholder="Carteira de Habilitação">
            </div>
            <button type="button" class="btn btn-secondary" onclick="prevSection(3)">Anterior</button>
            <button type="submit" class="btn btn-primary mt-3">Enviar</button>
        </div>
    </form>
</div>

<script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
<script>
    let currentSection = 1;

    function updateProgressBar() {
        const progress = (currentSection / 4) * 100;
        document.getElementById('progressBar').style.width = progress + '%';
        document.getElementById('progressBar').innerText = Math.round(progress) + '%';
    }

    function nextSection(next) {
        document.getElementById('section' + currentSection).classList.add('hidden');
        currentSection = next;
        document.getElementById('section' + currentSection).classList.remove('hidden');
        updateProgressBar();
    }

    function prevSection(prev) {
        document.getElementById('section' + currentSection).classList.add('hidden');
        currentSection = prev;
        document.getElementById('section' + currentSection).classList.remove('hidden');
        updateProgressBar();
    }

    document.getElementById('dataForm').addEventListener('submit', function(event) {
        // Realizar validações aqui, se necessário
        alert('Formulário enviado com sucesso!');
    });
</script>
</body>
</html>
